{"version":3,"file":"main.js","sources":["../src-package/main.ts"],"sourcesContent":["import { CompositeDisposable } from \"atom\"\r\n\r\nlet subscriptions: CompositeDisposable | null\r\n\r\n/**\r\n * called by Atom when activating an extension\r\n */\r\nexport function activate() {\r\n  // Events subscribed to in atom's system can be easily cleaned up with a CompositeDisposable\r\n  subscriptions = new CompositeDisposable()\r\n\r\n  package_deps().then(() => {\r\n    // do package stuff here\r\n  })\r\n}\r\n\r\n/**\r\n * install Atom package dependencies if not already loaded\r\n */\r\nasync function package_deps() {\r\n  if (atom.packages.isPackageLoaded(\"intentions\")) {\r\n    atom.packages.disablePackage(\"intentions\")\r\n  }\r\n\r\n  // Add entries from package-deps here manually\r\n  // (to prevent loading atom-package-deps and package.json when the deps are already loaded)\r\n  const deps = [\r\n    \"atom-ide-markdown-service\",\r\n    \"atom-ide-datatip\",\r\n    \"atom-ide-signature-help\",\r\n    \"atom-ide-hyperclick\",\r\n    \"atom-ide-definitions\",\r\n    \"atom-ide-outline\",\r\n    \"linter\",\r\n    \"linter-ui-default\",\r\n  ]\r\n  if (deps.some((p) => !atom.packages.isPackageLoaded(p))) {\r\n    // install if not installed\r\n    require(\"atom-package-deps\").install(\"atom-ide-base\", true)\r\n    // enable if disabled\r\n    deps\r\n      .filter((p) => !atom.packages.isPackageLoaded(p))\r\n      .forEach((p) => {\r\n        atom.notifications.addInfo(`Enabling package ${p} that is needed for \"atom-ide-base\"`)\r\n        atom.packages.enablePackage(p)\r\n      })\r\n  }\r\n}\r\n\r\n/**\r\n * called by Atom when deactivating an extension\r\n */\r\nexport function deactivate() {\r\n  if (subscriptions) {\r\n    subscriptions.dispose()\r\n  }\r\n  subscriptions = null\r\n}\r\n\r\nexport const config = {\r\n  longLineLength: {\r\n    title: \"Long Line Length\",\r\n    description:\r\n      \"If an editor has a line with a length more than this number, the editor will reduce the expensive operations to help the performance.\",\r\n    type: \"number\",\r\n    default: 4000,\r\n    order: 10,\r\n  },\r\n  largeLineCount: {\r\n    title: \"Large File Line Count\",\r\n    description:\r\n      \"If an editor more line numbers than this number, the editor will reduce the expensive operations to help the performance.\",\r\n    type: \"number\",\r\n    default: 20000,\r\n    order: 11,\r\n  },\r\n}\r\n"],"names":["subscriptions","CompositeDisposable","async","atom","packages","isPackageLoaded","disablePackage","deps","some","p","require","install","filter","forEach","notifications","addInfo","enablePackage","package_deps","then","longLineLength","title","description","type","default","order","largeLineCount","dispose"],"mappings":"0FAEA,IAAIA,8BAOFA,EAAgB,IAAIC,sBAUtBC,iBACMC,KAAKC,SAASC,gBAAgB,eAChCF,KAAKC,SAASE,eAAe,cAK/B,MAAMC,EAAO,CACX,4BACA,mBACA,0BACA,sBACA,uBACA,mBACA,SACA,qBAEEA,EAAKC,MAAMC,IAAON,KAAKC,SAASC,gBAAgBI,OAElDC,QAAQ,qBAAqBC,QAAQ,iBAAiB,GAEtDJ,EACGK,QAAQH,IAAON,KAAKC,SAASC,gBAAgBI,KAC7CI,SAASJ,IACRN,KAAKW,cAAcC,QAAQ,oBAAoBN,wCAC/CN,KAAKC,SAASY,cAAcP,OAjClCQ,GAAeC,MAAK,yBAgDA,CACpBC,eAAgB,CACdC,MAAO,mBACPC,YACE,wIACFC,KAAM,SACNC,QAAS,IACTC,MAAO,IAETC,eAAgB,CACdL,MAAO,wBACPC,YACE,4HACFC,KAAM,SACNC,QAAS,IACTC,MAAO,mCArBLxB,GACFA,EAAc0B,UAEhB1B,EAAgB"}